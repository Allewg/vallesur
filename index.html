<!DOCTYPE html>
<html lang="es" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vallesur Congelados | Frutas Congeladas Premium desde el Sur de Chile</title>

    <!-- SEO Meta Tags -->
    <meta name="description"
        content="Vallesur ofrece frutas congeladas 100% naturales, seleccionadas y congeladas para mantener toda su frescura y sabor. Despacho a domicilio en San Bernardo y alrededores.">
    <meta name="keywords"
        content="frutas congeladas, berries, arándanos, frambuesas, mango congelado, vallesur, san bernardo, chile">
    <meta name="author" content="Vallesur">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://vallesur.cl/">
    <meta property="og:title" content="Vallesur Congelados | Frutas Congeladas Premium">
    <meta property="og:description"
        content="Frutas congeladas 100% naturales desde el sur de Chile. Calidad premium en cada bocado.">
    <meta property="og:image"
        content="https://images.unsplash.com/photo-1498557850523-fd3d118b962e?auto=format&fit=crop&q=80&w=1200">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Playfair+Display:wght@700;900&display=swap"
        rel="stylesheet">

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4C1D95', // Arándano
                        secondary: '#BE123C', // Frambuesa
                        accent: '#F59E0B', // Mango
                        whatsapp: '#25D366',
                        ice: '#F0F9FF',
                    },
                    fontFamily: {
                        sans: ['Outfit', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    },
                }
            }
        }
    </script>

    <!-- Alpine.js CDN -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- AOS Animations -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <style>
        [x-cloak] {
            display: none !important;
        }

        .glass {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .hero-gradient {
            position: relative;
            overflow: hidden;
        }

        .hero-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://img.freepik.com/foto-gratis/closeup-foto-deliciosas-frambuesas_181624-24171.jpg');
            background-size: cover;
            background-position: center;
            animation: kenburns 20s infinite alternate ease-in-out;
            z-index: -1;
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.6) 100%);
            z-index: 0;
        }

        @keyframes kenburns {
            0% {
                transform: scale(1) translate(0, 0);
            }

            100% {
                transform: scale(1.1) translate(-2%, -2%);
            }
        }
    </style>
</head>

<body class="bg-slate-50 text-slate-800 font-sans" x-data="vallesurApp()">

    <!-- Header -->
    <header class="fixed top-0 w-full z-50 transition-all duration-300"
        :class="scrolled ? 'glass shadow-md py-2' : 'bg-transparent py-4'"
        @scroll.window="scrolled = (window.pageYOffset > 20)">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <a href="#" class="flex items-center gap-3">
                <img src="assets/vallesurlogo.png" alt="Vallesur Logo" 
                    class="h-12 w-auto transition-all duration-300"
                    :class="scrolled ? 'h-10' : 'h-12'">
                <span class="text-2xl font-serif font-black tracking-tighter hidden sm:inline"
                    :class="scrolled ? 'text-primary' : 'text-white'">VALLESUR</span>
            </a>

            <nav class="hidden md:flex gap-8 items-center">
                <a href="#inicio" class="font-medium hover:text-secondary transition-colors"
                    :class="scrolled ? 'text-slate-700' : 'text-white'">Inicio</a>
                <a href="#productos" class="font-medium hover:text-secondary transition-colors"
                    :class="scrolled ? 'text-slate-700' : 'text-white'">Productos</a>
                <a href="#nosotros" class="font-medium hover:text-secondary transition-colors"
                    :class="scrolled ? 'text-slate-700' : 'text-white'">Nosotros</a>
                <a href="#contacto" class="font-medium hover:text-secondary transition-colors"
                    :class="scrolled ? 'text-slate-700' : 'text-white'">Contacto</a>
            </nav>

            <div class="flex items-center gap-4">
                <button @click="cartOpen = true" class="relative p-2 rounded-full hover:bg-white/20 transition-colors"
                    :class="scrolled ? 'text-primary' : 'text-white'">
                    <i class="fa-solid fa-cart-shopping"></i>
                    <span x-show="cartItems.length > 0" x-text="cartItems.length"
                        class="absolute -top-1 -right-1 bg-secondary text-white text-[10px] font-bold w-5 h-5 flex items-center justify-center rounded-full border-2 border-white"></span>
                </button>
                <button class="md:hidden p-2 rounded-full" :class="scrolled ? 'text-primary' : 'text-white'">
                    <i class="fa-solid fa-bars"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="inicio"
        class="relative h-screen flex items-center justify-center hero-gradient text-white overflow-hidden">
        <div class="hero-bg"></div>
        <div class="hero-overlay"></div>
        <div class="container mx-auto px-4 text-center z-10" data-aos="fade-up">
            <span
                class="inline-block px-4 py-1 bg-secondary/80 backdrop-blur-sm rounded-full text-sm font-bold mb-6 tracking-widest uppercase shadow-lg">100%
                Natural • Selección Premium</span>
            <h1 class="text-5xl md:text-7xl font-serif font-black mb-6 leading-tight drop-shadow-2xl">Frutas Congeladas
                de <br><span class="text-accent">Primera Calidad</span></h1>
            <p class="text-lg md:text-xl mb-10 max-w-2xl mx-auto text-slate-100 drop-shadow-lg">Berries y frutas
                tropicales
                seleccionadas y congeladas para mantener toda su frescura y sabor directamente desde el sur de Chile.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="#productos"
                    class="px-8 py-4 bg-primary hover:bg-primary/90 text-white rounded-xl font-bold transition-all transform hover:scale-105 shadow-2xl flex items-center justify-center gap-2">
                    Ver Catálogo <i class="fa-solid fa-arrow-right w-5 h-5"></i>
                </a>
                <a href="#nosotros"
                    class="px-8 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-md text-white border border-white/30 rounded-xl font-bold transition-all flex items-center justify-center">
                    Conócenos
                </a>
            </div>
        </div>
        <div class="absolute bottom-10 left-1/2 -translate-x-1/2 animate-bounce opacity-50 z-10">
            <i class="fa-solid fa-chevron-down w-8 h-8"></i>
        </div>
    </section>

    <!-- Features -->
    <section class="py-20 bg-white">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-12">
                <div class="text-center" data-aos="fade-up" data-aos-delay="0">
                    <div
                        class="w-16 h-16 bg-ice rounded-2xl flex items-center justify-center mx-auto mb-6 text-primary">
                        <i class="fa-solid fa-leaf w-8 h-8"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">100% Natural</h3>
                    <p class="text-slate-500">Sin azúcar añadida ni conservantes. Solo fruta pura y deliciosa.</p>
                </div>
                <div class="text-center" data-aos="fade-up" data-aos-delay="100">
                    <div
                        class="w-16 h-16 bg-ice rounded-2xl flex items-center justify-center mx-auto mb-6 text-secondary">
                        <i class="fa-solid fa-award w-8 h-8"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">Selección Premium</h3>
                    <p class="text-slate-500">Cada fruta es seleccionada manualmente para garantizar la mejor calidad.
                    </p>
                </div>
                <div class="text-center" data-aos="fade-up" data-aos-delay="200">
                    <div class="w-16 h-16 bg-ice rounded-2xl flex items-center justify-center mx-auto mb-6 text-accent">
                        <i class="fa-solid fa-truck w-8 h-8"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">Despacho a Domicilio</h3>
                    <p class="text-slate-500">Llevamos la frescura hasta tu puerta en San Bernardo y alrededores.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Product Catalog -->
    <section id="productos" class="py-24 bg-slate-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-16" data-aos="fade-up">
                <h2 class="text-4xl md:text-5xl font-serif font-black text-primary mb-4 uppercase">Nuestros Productos
                </h2>
                <div class="w-24 h-1 bg-secondary mx-auto mb-8"></div>

                <!-- Filters -->
                <div class="flex flex-wrap justify-center gap-2 mb-12">
                    <template x-for="cat in categories">
                        <button @click="activeCategory = cat"
                            :class="activeCategory === cat ? 'bg-primary text-white' : 'bg-white text-slate-600 hover:bg-slate-100'"
                            class="px-6 py-2 rounded-full font-semibold transition-all shadow-sm border border-slate-200"
                            x-text="cat"></button>
                    </template>
                </div>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                <template x-for="product in filteredProducts" :key="product.id">
                    <div class="group bg-white rounded-3xl overflow-hidden shadow-sm hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2"
                        data-aos="fade-up">
                        <div class="relative h-64 overflow-hidden">
                            <img :src="product.image" :alt="product.name"
                                class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                            <div
                                class="absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold text-primary shadow-sm">
                                $ <span x-text="product.price.toLocaleString('es-CL')"></span> / kg
                            </div>
                            <div class="absolute bottom-3 right-3 w-24 h-24 opacity-80 hover:opacity-100 transition-opacity">
                                <img src="assets/caja.png" alt="Caja de empaque" class="w-full h-full object-contain drop-shadow-lg">
                            </div>
                        </div>
                        <div class="p-6">
                            <span class="text-xs font-bold text-secondary uppercase tracking-widest mb-2 block"
                                x-text="product.category"></span>
                            <h3 class="text-xl font-bold mb-2 group-hover:text-primary transition-colors"
                                x-text="product.name"></h3>
                            <p class="text-slate-500 text-sm mb-6 line-clamp-2" x-text="product.description"></p>
                            <button @click="addToCart(product)"
                                class="w-full py-3 bg-slate-100 hover:bg-primary hover:text-white text-primary font-bold rounded-xl transition-all flex items-center justify-center gap-2">
                                <i class="fa-solid fa-plus w-5 h-5"></i> Agregar al Carrito
                            </button>
                        </div>
                    </div>
                </template>
            </div>
        </div>
    </section>

    <!-- Production Video -->
    <section class="py-24 bg-gradient-to-br from-primary/5 to-secondary/5">
        <div class="container mx-auto px-4">
            <div class="text-center mb-16" data-aos="fade-up">
                <h2 class="text-4xl md:text-5xl font-serif font-black text-primary mb-4">Conoce Nuestro Proceso</h2>
                <div class="w-24 h-1 bg-secondary mx-auto mb-6"></div>
                <p class="text-slate-600 text-lg max-w-2xl mx-auto">Mira cómo seleccionamos y congelamos nuestras frutas para mantener toda su frescura y sabor.</p>
            </div>
            
            <div class="max-w-5xl mx-auto" data-aos="fade-up" data-aos-delay="100">
                <div class="relative w-full rounded-3xl overflow-hidden shadow-2xl" style="padding-bottom: 56.25%; background: #000;">
                    <iframe 
                        id="vimeo-video"
                        src="https://player.vimeo.com/video/1152418572?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479&amp;title=0&amp;byline=0&amp;portrait=0&amp;recommendations=0&amp;loop=1" 
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"
                        frameborder="0" 
                        allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" 
                        referrerpolicy="strict-origin-when-cross-origin"
                        title="Vallesur - Proceso de Producción">
                    </iframe>
                </div>
                <p class="text-center text-slate-500 text-sm mt-6">Mira cómo cada fruta es seleccionada con cuidado y congelada para preservar sus propiedades.</p>
            </div>
        </div>
    </section>

    <!-- About Us -->
    <section id="nosotros" class="py-24 bg-white overflow-hidden">
        <div class="container mx-auto px-4">
            <div class="flex flex-col lg:flex-row items-center gap-16">
                <div class="lg:w-1/2 relative" data-aos="fade-right">
                    <div class="absolute -top-10 -left-10 w-64 h-64 bg-ice rounded-full -z-10"></div>
                    <div class="absolute -bottom-10 -right-10 w-48 h-48 bg-secondary/10 rounded-full -z-10"></div>
                    <img src="https://images.unsplash.com/photo-1438907046657-4ae137eb8c5e?auto=format&fit=crop&q=80&w=1000"
                        alt="Frutas congeladas premium" class="rounded-[3rem] shadow-2xl relative z-10">
                </div>
                <div class="lg:w-1/2" data-aos="fade-left">
                    <span class="text-secondary font-bold tracking-widest uppercase mb-4 block">Nuestra Historia</span>
                    <h2 class="text-4xl md:text-5xl font-serif font-black text-primary mb-6">Calidad que nace en el
                        <span class="text-secondary">Sur de Chile</span>
                    </h2>
                    <p class="text-slate-600 mb-6 leading-relaxed">Vallesur nace del compromiso de llevar lo mejor de
                        nuestra tierra a tu mesa. Nuestras frutas provienen de Longaví, en el corazón del sur de Chile,
                        donde el clima y la tierra se unen para crear sabores inigualables.</p>
                    <p class="text-slate-600 mb-8 leading-relaxed">Seleccionamos cada fruto manualmente, asegurando que
                        solo lo mejor llegue a nuestro proceso de congelación rápida, el cual preserva intactas todas
                        las propiedades nutricionales, el color y el sabor original.</p>

                    <div class="grid grid-cols-2 gap-8 mb-10">
                        <div>
                            <h4 class="text-3xl font-black text-primary mb-1">4k+</h4>
                            <p class="text-sm text-slate-500 font-bold uppercase tracking-tighter">Seguidores en IG</p>
                        </div>
                        <div>
                            <h4 class="text-3xl font-black text-primary mb-1">100%</h4>
                            <p class="text-sm text-slate-500 font-bold uppercase tracking-tighter">Natural y Puro</p>
                        </div>
                    </div>

                    <a href="https://www.instagram.com/vallesur2010/" target="_blank"
                        class="inline-flex items-center gap-3 text-primary font-bold hover:text-secondary transition-colors">
                        Síguenos en Instagram <i class="fa-brands fa-instagram"></i>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ -->
    <section class="py-24 bg-slate-50">
        <div class="container mx-auto px-4 max-w-3xl">
            <div class="text-center mb-16" data-aos="fade-up">
                <h2 class="text-4xl font-serif font-black text-primary mb-4">Preguntas Frecuentes</h2>
                <p class="text-slate-500">Todo lo que necesitas saber sobre nuestros productos y despachos.</p>
            </div>

            <div class="space-y-4">
                <template x-for="(faq, index) in faqs" :key="index">
                    <div class="bg-white rounded-2xl shadow-sm overflow-hidden" data-aos="fade-up"
                        :data-aos-delay="index * 100">
                        <button @click="faq.open = !faq.open"
                            class="w-full px-8 py-6 text-left flex justify-between items-center hover:bg-slate-50 transition-colors">
                            <span class="font-bold text-slate-700" x-text="faq.q"></span>
                            <i class="fa-solid fa-chevron-down w-5 h-5 transition-transform"
                                :class="faq.open ? 'rotate-180' : ''"></i>
                        </button>
                        <div x-show="faq.open" x-collapse x-cloak class="px-8 pb-6 text-slate-500 leading-relaxed"
                            x-text="faq.a"></div>
                    </div>
                </template>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="contacto" class="bg-primary text-white pt-24 pb-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16">
                <div class="col-span-1 lg:col-span-1">
                    <a href="#" class="inline-block mb-6">
                        <span class="text-3xl font-serif font-black tracking-tighter">VALLESUR</span>
                    </a>
                    <p class="text-slate-300 mb-8">Llevamos la frescura del sur de Chile directamente a tu hogar.
                        Calidad premium garantizada.</p>
                    <div class="flex gap-4">
                        <a href="https://www.instagram.com/vallesur2010/" target="_blank"
                            class="w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-secondary transition-all">
                            <i class="fa-brands fa-instagram w-5 h-5"></i>
                        </a>
                        <a href="#"
                            class="w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-secondary transition-all">
                            <i class="fa-brands fa-facebook w-5 h-5"></i>
                        </a>
                    </div>
                </div>

                <div>
                    <h4 class="text-xl font-bold mb-6">Enlaces Rápidos</h4>
                    <ul class="space-y-4 text-slate-300">
                        <li><a href="#inicio" class="hover:text-white transition-colors">Inicio</a></li>
                        <li><a href="#productos" class="hover:text-white transition-colors">Productos</a></li>
                        <li><a href="#nosotros" class="hover:text-white transition-colors">Nosotros</a></li>
                        <li><a href="#contacto" class="hover:text-white transition-colors">Contacto</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="text-xl font-bold mb-6">Contacto</h4>
                    <ul class="space-y-4 text-slate-300">
                        <li class="flex items-start gap-3">
                            <i class="fa-solid fa-map-pin w-5 h-5 text-secondary shrink-0"></i>
                            <span>San Bernardo, Región Metropolitana, Chile</span>
                        </li>
                        <li class="flex items-center gap-3">
                            <i class="fa-solid fa-phone w-5 h-5 text-secondary shrink-0"></i>
                            <span>+56 9 6725 0233</span>
                        </li>
                        <li class="flex items-center gap-3">
                            <i class="fa-solid fa-envelope w-5 h-5 text-secondary shrink-0"></i>
                            <span>contacto@vallesur.cl</span>
                        </li>
                    </ul>
                </div>

                <div>
                    <h4 class="text-xl font-bold mb-6">Horario</h4>
                    <ul class="space-y-4 text-slate-300">
                        <li class="flex justify-between">
                            <span>Lunes - Viernes:</span>
                            <span>09:00 - 19:00</span>
                        </li>
                        <li class="flex justify-between">
                            <span>Sábado:</span>
                            <span>10:00 - 14:00</span>
                        </li>
                        <li class="flex justify-between">
                            <span>Domingo:</span>
                            <span>Cerrado</span>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="border-t border-white/10 pt-8">
                <div class="flex flex-col items-center gap-4 mb-6">
                    <img src="assets/vallesurlogo.png" alt="Vallesur Logo" class="h-16 w-auto opacity-90 hover:opacity-100 transition-opacity">
                </div>
                <p class="text-center text-slate-400 text-sm">&copy; 2026 Vallesur Congelados. Todos los derechos reservados. Realizado con ❤️ para Sol Jazmin Sol.
                </p>
            </div>
        </div>
    </footer>

    <!-- Shopping Cart Drawer -->
    <div x-show="cartOpen" class="fixed inset-0 z-[100] overflow-hidden" x-cloak
        @keydown.window.escape="cartOpen = false">
        <div class="absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity" x-show="cartOpen"
            x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0"
            x-transition:enter-end="opacity-100" x-transition:leave="ease-in duration-200"
            x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" @click="cartOpen = false"></div>

        <div class="absolute inset-y-0 right-0 max-w-full flex">
            <div class="w-screen max-w-md" x-show="cartOpen"
                x-transition:enter="transform transition ease-in-out duration-500"
                x-transition:enter-start="translate-x-full" x-transition:enter-end="translate-x-0"
                x-transition:leave="transform transition ease-in-out duration-500"
                x-transition:leave-start="translate-x-0" x-transition:leave-end="translate-x-full">
                <div class="h-full flex flex-col bg-white shadow-2xl">
                    <div class="flex-1 py-6 overflow-y-auto px-4 sm:px-6">
                        <div class="flex items-start justify-between">
                            <h2 class="text-2xl font-serif font-black text-primary">Tu Pedido</h2>
                            <button @click="cartOpen = false" class="p-2 text-slate-400 hover:text-slate-500">
                                <i class="fa-solid fa-xmark"></i>
                            </button>
                        </div>

                        <div class="mt-8">
                            <div class="flow-root">
                                <ul class="-my-6 divide-y divide-slate-200">
                                    <template x-for="item in cartItems" :key="item.id">
                                        <li class="py-6 flex">
                                            <div
                                                class="h-24 w-24 shrink-0 overflow-hidden rounded-2xl border border-slate-200">
                                                <img :src="item.image" :alt="item.name"
                                                    class="h-full w-full object-cover">
                                            </div>
                                            <div class="ml-4 flex flex-1 flex-col">
                                                <div>
                                                    <div
                                                        class="flex justify-between text-base font-bold text-slate-900">
                                                        <h3 x-text="item.name"></h3>
                                                        <p class="ml-4">$ <span
                                                                x-text="(item.price * item.quantity).toLocaleString('es-CL')"></span>
                                                        </p>
                                                    </div>
                                                    <p class="mt-1 text-sm text-slate-500" x-text="item.category"></p>
                                                </div>
                                                <div class="flex flex-1 items-end justify-between text-sm">
                                                    <div
                                                        class="flex items-center gap-3 bg-slate-100 rounded-lg px-2 py-1">
                                                        <button @click="updateQuantity(item.id, -1)"
                                                            class="p-1 hover:text-primary">
                                                            <i class="fa-solid fa-minus w-4 h-4"></i>
                                                        </button>
                                                        <span class="font-bold w-4 text-center"
                                                            x-text="item.quantity"></span>
                                                        <button @click="updateQuantity(item.id, 1)"
                                                            class="p-1 hover:text-primary">
                                                            <i class="fa-solid fa-plus w-4 h-4"></i>
                                                        </button>
                                                    </div>
                                                    <button @click="removeFromCart(item.id)"
                                                        class="font-medium text-secondary hover:text-secondary/80">Eliminar</button>
                                                </div>
                                            </div>
                                        </li>
                                    </template>
                                    <li x-show="cartItems.length === 0" class="py-12 text-center">
                                        <div
                                            class="w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-300">
                                            <i class="fa-solid fa-bag-shopping w-10 h-10"></i>
                                        </div>
                                        <p class="text-slate-500">Tu carrito está vacío</p>
                                        <button @click="cartOpen = false" class="mt-4 text-primary font-bold">Ir a
                                            comprar</button>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="border-t border-slate-200 py-6 px-4 sm:px-6 bg-slate-50" x-show="cartItems.length > 0">
                        <!-- Info sobre despacho -->
                        <div class="mb-6 p-4 rounded-xl" :class="totalWeight >= 10 ? 'bg-secondary/10 border border-secondary/30' : 'bg-primary/10 border border-primary/30'">
                            <p class="text-sm font-bold" :class="totalWeight >= 10 ? 'text-secondary' : 'text-primary'">
                                <span x-text="totalWeight.toFixed(1)"></span> kg en tu carrito
                            </p>
                            <p class="text-xs mt-2" :class="totalWeight >= 10 ? 'text-slate-600' : 'text-slate-600'">
                                <span x-show="totalWeight >= 10">Despacho a domicilio: $3.000</span>
                                <span x-show="totalWeight < 10">Retiro en San Bernardo (Sin costo)</span>
                            </p>
                        </div>

                        <!-- Checkout Form (solo si peso >= 10kg) -->
                        <div class="mb-6 space-y-3" x-show="totalWeight >= 10">
                            <h4 class="font-bold text-slate-700 mb-2">Datos de Despacho</h4>
                            <input type="text" x-model="checkout.name" placeholder="Nombre Completo"
                                class="w-full px-4 py-2 rounded-xl border border-slate-200 focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all">
                            <input type="text" x-model="checkout.address" placeholder="Dirección de Despacho"
                                class="w-full px-4 py-2 rounded-xl border border-slate-200 focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all">
                            <input type="text" x-model="checkout.comuna" placeholder="Comuna"
                                class="w-full px-4 py-2 rounded-xl border border-slate-200 focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all">
                        </div>

                        <!-- Solo nombre si retiro (peso < 10kg) -->
                        <div class="mb-6 space-y-3" x-show="totalWeight < 10">
                            <h4 class="font-bold text-slate-700 mb-2">Datos del Cliente</h4>
                            <input type="text" x-model="checkout.name" placeholder="Nombre Completo"
                                class="w-full px-4 py-2 rounded-xl border border-slate-200 focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all">
                        </div>

                        <div class="space-y-2 mb-6">
                            <div class="flex justify-between text-base text-slate-600">
                                <p>Subtotal</p>
                                <p>$ <span x-text="cartSubtotal.toLocaleString('es-CL')"></span></p>
                            </div>
                            <div class="flex justify-between text-base text-slate-600">
                                <p x-text="totalWeight >= 10 ? 'Despacho a Domicilio' : 'Retiro'"></p>
                                <p>$ <span x-text="shippingCost.toLocaleString('es-CL')"></span></p>
                            </div>
                            <div
                                class="flex justify-between text-xl font-black text-primary pt-2 border-t border-slate-200">
                                <p>Total</p>
                                <p>$ <span x-text="totalAmount.toLocaleString('es-CL')"></span></p>
                            </div>
                        </div>

                        <button @click="sendToWhatsApp()" :disabled="!isCheckoutValid"
                            :class="!isCheckoutValid ? 'opacity-50 cursor-not-allowed' : 'hover:bg-whatsapp/90'"
                            class="w-full py-4 bg-whatsapp text-white rounded-2xl font-black text-lg shadow-lg flex items-center justify-center gap-3 transition-all transform hover:scale-[1.02]">
                            <i class="fa-brands fa-whatsapp text-2xl md:text-3xl flex-shrink-0"></i>
                            <span class="ml-2">Confirmar por WhatsApp</span>
                        </button>
                        <p class="mt-4 text-xs text-center text-slate-400">Al confirmar, serás redirigido a WhatsApp con
                            el detalle de tu pedido.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating WhatsApp Button -->
    <a href="https://wa.me/56967250233" target="_blank"
        class="fixed bottom-6 right-6 z-40 w-16 h-16 bg-whatsapp text-white rounded-full shadow-2xl flex items-center justify-center hover:scale-110 transition-transform duration-300">
        <i class="fa-brands fa-whatsapp text-4xl"></i>
    </a>

    <script>
        function vallesurApp() {
            return {
                scrolled: false,
                cartOpen: false,
                activeCategory: 'Todos',
                categories: ['Todos', 'Berries', 'Frutas Tropicales', 'Pulpas'],
                cartItems: [],
                checkout: {
                    name: '',
                    address: '',
                    comuna: ''
                },
                products: [
                    { id: 1, name: "Arándanos", price: 4000, category: "Berries", image: "assets/arandanos.jpeg", description: "Arándanos seleccionados de primera calidad, 100% naturales y congelados." },
                    { id: 2, name: "Frambuesas", price: 6000, category: "Berries", image: "assets/frambuezagrande.jpeg", description: "Frambuesas rojas y jugosas, ideales para postres y batidos." },
                    { id: 3, name: "Frutillas", price: 3500, category: "Berries", image: "assets/frutillas.png", description: "Frutillas dulces y aromáticas, seleccionadas manualmente." },
                    { id: 4, name: "Mango", price: 5000, category: "Frutas Tropicales", image: "assets/mango.jpeg", description: "Mango en cubos, listo para consumir o preparar jugos tropicales." },
                    { id: 5, name: "Maracuyá", price: 6000, category: "Frutas Tropicales", image: "assets/maracuya.png", description: "Maracuyá con pepas, sabor intenso y natural." },
                    { id: 6, name: "Melón Calameño", price: 4000, category: "Frutas Tropicales", image: "assets/meloncalameño.png", description: "Melón calameño en trozos, refrescante y natural." },
                    { id: 7, name: "Mix de Berries", price: 4500, category: "Berries", image: "assets/mixberries.jpeg", description: "Combinación perfecta de arándanos, frambuesas y moras." },
                    { id: 8, name: "Pulpa de Mango", price: 5500, category: "Pulpas", image: "assets/pulpademango.png", description: "Pulpa de mango 100% natural, sin azúcar añadida." },
                    { id: 9, name: "Piña", price: 4000, category: "Frutas Tropicales", image: "assets/piña.png", description: "Piña congelada en trozos, tropical y refrescante, perfecta para batidos y postres." }
                ],
                faqs: [
                    { q: "¿Cómo se mantienen congelados los productos durante el despacho?", a: "Utilizamos cajas térmicas y gel pack para asegurar que la cadena de frío no se rompa durante el trayecto a tu hogar.", open: false },
                    { q: "¿Cuál es el tiempo de despacho?", a: "Generalmente entregamos en 24-48 horas hábiles una vez confirmado el pedido.", open: false },
                    { q: "¿Realizan pedidos mayoristas?", a: "¡Sí! Para compras sobre 10kg tenemos precios especiales. Contáctanos por WhatsApp.", open: false },
                    { q: "¿Los productos contienen azúcar añadida?", a: "No, todos nuestros productos son 100% fruta natural sin aditivos ni azúcares.", open: false }
                ],

                get filteredProducts() {
                    if (this.activeCategory === 'Todos') return this.products;
                    return this.products.filter(p => p.category === this.activeCategory);
                },

                get cartSubtotal() {
                    return this.cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                },

                get totalWeight() {
                    return this.cartItems.reduce((sum, item) => sum + item.quantity, 0);
                },

                get shippingCost() {
                    return this.totalWeight >= 10 ? 3000 : 0;
                },

                get totalAmount() {
                    return this.cartSubtotal + this.shippingCost;
                },

                get isCheckoutValid() {
                    if (this.cartItems.length === 0) return false;
                    if (this.totalWeight >= 10) {
                        return this.checkout.name && this.checkout.address && this.checkout.comuna;
                    } else {
                        return this.checkout.name;
                    }
                },

                addToCart(product) {
                    const existing = this.cartItems.find(item => item.id === product.id);
                    if (existing) {
                        existing.quantity++;
                    } else {
                        this.cartItems.push({ ...product, quantity: 1 });
                    }
                    this.cartOpen = true;
                    this.saveCart();
                },

                updateQuantity(id, delta) {
                    const item = this.cartItems.find(i => i.id === id);
                    if (item) {
                        item.quantity += delta;
                        if (item.quantity < 1) this.removeFromCart(id);
                    }
                    this.saveCart();
                },

                removeFromCart(id) {
                    this.cartItems = this.cartItems.filter(i => i.id !== id);
                    this.saveCart();
                },

                saveCart() {
                    localStorage.setItem('vallesur_cart', JSON.stringify(this.cartItems));
                },

                loadCart() {
                    const saved = localStorage.getItem('vallesur_cart');
                    if (saved) this.cartItems = JSON.parse(saved);
                },

                sendToWhatsApp() {
                    let message = `*NUEVO PEDIDO - VALLESUR*\n\n`;
                    message += `*Cliente:* ${this.checkout.name}\n`;
                    
                    if (this.totalWeight >= 10) {
                        message += `*Dirección de Despacho:* ${this.checkout.address}, ${this.checkout.comuna}\n`;
                        message += `*Tipo de Entrega:* Despacho a Domicilio\n`;
                    } else {
                        message += `*Tipo de Entrega:* Retiro en San Bernardo\n`;
                    }
                    
                    message += `\n*Detalle del Pedido:*\n`;

                    this.cartItems.forEach(item => {
                        message += `- ${item.quantity}kg x ${item.name} ($${(item.price * item.quantity).toLocaleString('es-CL')})\n`;
                    });

                    message += `\n*Subtotal:* $${this.cartSubtotal.toLocaleString('es-CL')}\n`;
                    message += `*${this.totalWeight >= 10 ? 'Despacho' : 'Retiro'}:* $${this.shippingCost.toLocaleString('es-CL')}\n`;
                    message += `*TOTAL:* $${this.totalAmount.toLocaleString('es-CL')}\n\n`;
                    
                    if (this.totalWeight >= 10) {
                        message += `_Por favor, confírmame los datos para coordinar la entrega._`;
                    } else {
                        message += `_Por favor, confírmame el horario para el retiro._`;
                    }

                    const encodedMessage = encodeURIComponent(message);
                    window.open(`https://wa.me/56967250233?text=${encodedMessage}`, '_blank');
                },

                init() {
                    this.loadCart();
                    AOS.init({
                        duration: 1000,
                        once: true,
                    });
                    this.initVideoControls();
                },

                initVideoControls() {
                    const videoFrame = document.getElementById('vimeo-video');
                    if (!videoFrame) return;

                    // Intersection Observer para pausa/play automática
                    const videoContainer = videoFrame.parentElement;
                    const observer = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                // Video es visible, enviar mensaje para autoplay
                                videoFrame.contentWindow.postMessage({ method: 'play' }, '*');
                            } else {
                                // Video no es visible, enviar mensaje para pausar
                                videoFrame.contentWindow.postMessage({ method: 'pause' }, '*');
                            }
                        });
                    }, { threshold: 0.3 });

                    observer.observe(videoContainer);

                    // Pausa cuando se pierde el focus de la ventana
                    window.addEventListener('blur', () => {
                        videoFrame.contentWindow.postMessage({ method: 'pause' }, '*');
                    });

                    // Resume cuando vuelve el focus
                    window.addEventListener('focus', () => {
                        // Verificar si el video está visible
                        const rect = videoContainer.getBoundingClientRect();
                        if (rect.top < window.innerHeight && rect.bottom > 0) {
                            videoFrame.contentWindow.postMessage({ method: 'play' }, '*');
                        }
                    });
                }
            }
        }
    </script>
</body>

</html>